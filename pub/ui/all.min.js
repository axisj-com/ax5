!function(root,ax_super){var U=ax5.util,ax_class=(ax5.dom,function(){this.main=function(){ax_super&&ax_super.call(this),this.config={click_event_name:"ontouchstart"in document.documentElement?"touchstart":"click",theme:"default",keys:{label:"label",value:"value",width:"width",rowspan:"rowspan",colspan:"colspan",klass:"klass"}}}.apply(this,arguments);var cfg=this.config;this.init=function(){cfg.target&&cfg.board||U.error("aui_keypad_400","[ax5.ui.keypad] config.target, config.board is required"),cfg.target=ax5.dom(cfg.target)}});U.is_function(ax_super)&&(ax_class.prototype=new ax_super),root.dialog=ax_class,"function"==typeof define&&define.amd&&define("_ax5_ui_dialog",[],function(){return ax_class})}(ax5.ui,ax5.ui.root),function(root,ax_super){var U=ax5.util,axd=ax5.dom,ax_class=function(){this.main=function(){ax_super&&ax_super.call(this),this.config={click_event_name:"ontouchstart"in document.documentElement?"touchstart":"click",theme:"default",keys:{label:"label",value:"value",width:"width",rowspan:"rowspan",colspan:"colspan",klass:"klass"}}}.apply(this,arguments);var cfg=this.config;this.init=function(){cfg.target&&cfg.board||U.error("aui_keypad_400","[ax5.ui.keypad] config.target, config.board is required"),cfg.target=ax5.dom(cfg.target),this.set_layout()},this.set_layout=function(){var cfg=this.config,keys=cfg.keys,po=[],col_width=cfg.board.col_width||"10px",col_height=cfg.board.col_height||"10px";po.push('<div class="ax5-ui-keypad '+cfg.theme+'">'),po.push('<table cellpadding="0" cellspacing="0">'),po.push("<tbody>"),po.push("<tr>");for(var item,i=0,ll=cfg.board.keys.length;ll>i;i++)item=cfg.board.keys[i],item.newline?po.push("</tr><tr>"):(po.push('<td rowspan="'+(item[keys.rowspan]||1)+'" colspan="'+(item[keys.colspan]||1)+'" style="'+function(css){return css=[],1==(item[keys.colspan]||1)&&css.push("width:"+(item[keys.width]?item[keys.width]:col_width)),css.join(";")}()+'">'),po.push('<div class="ax-btn-wraper" style="'+function(css){if(css=[],1==(item[keys.rowspan]||1))css.push("height:"+col_height);else{var unit=col_height.replace(/\d+/g,"")||"px";css.push("height:"+U.number(col_height)*item[keys.rowspan]+unit)}return css.join(";")}()+'">'),po.push('<button class="ax-btn '+(item[keys.klass]||"")+'" data-keypad-item-index="'+i+'">'+item[keys.label]+"</button>"),po.push("</div>"),po.push("</td>"));po.push("</tbody>"),po.push("</table>"),po.push("</div>"),cfg.target.html(po.join("")),cfg.target.find("[data-keypad-item-index]").on(cfg.click_event_name,function(e){this.onclick(e||window.event)}.bind(this))},this.onclick=function(e,target,index){target=axd.parent(e.target,function(target){return ax5.dom.attr(target,"data-keypad-item-index")?!0:void 0}),target&&(index=axd.attr(target,"data-keypad-item-index"),this.config.onclick&&this.config.onclick.call({keys:this.config.board.keys,item:this.config.board.keys[index],target:cfg.target.elements[0],item_target:target}))}};U.is_function(ax_super)&&(ax_class.prototype=new ax_super),root.keypad=ax_class,"function"==typeof define&&define.amd&&define("_ax5_ui_keypad",[],function(){return ax_class})}(ax5.ui,ax5.ui.root),function(root,ax_super){var U=ax5.util,axd=ax5.dom,ax_class=function(){var self=this;this.main=function(){ax_super&&ax_super.call(this),this.config={target:axd.get(document.body)[0]},this.mask_content="<h1>AX5 Mask</h1>",this.status="off"}.apply(this,arguments),this.init=function(){this.config.content&&this.set_body(this.config.content)},this.set_body=function(content){this.mask_content=content},this.get_body=function(){return this.mask_content},this.open=function(config){"on"===this.status&&this.close(),config&&config.content&&this.set_body(config.content),self.mask_config={},U.extend(self.mask_config,this.config,!0),U.extend(self.mask_config,config,!0);var css,_mask,cfg=self.mask_config,target=axd.get(cfg.target)[0],po=[],mask_id="ax-mask-"+ax5.get_guid(),css={},that={};if(po.push('<div class="ax-mask" id="'+mask_id+'">'),po.push('<div class="ax-mask-bg"></div>'),po.push('<div class="ax-mask-content">'),po.push('<div class="ax-mask-body">'),po.push(self.get_body()),po.push("</div>"),po.push("</div>"),po.push("</div>"),target==document.body)axd.append(target,po.join(""));else{axd.append(document.body,po.join(""));var box_model=axd.box_model(target);css={position:"absolute",left:box_model.offset.left,top:box_model.offset.top,width:box_model.width,height:box_model.height},axd.class_name(target,"add","ax-masking")}return this._mask=_mask=axd.get("#"+mask_id),this.target=target,this.status="on",axd.css(_mask,css),cfg.onchange&&(that={type:"open"},cfg.onchange.call(that,that)),this},this.close=function(){var cfg=this.mask_config;return axd.remove(this._mask),axd.class_name(this.target,"remove","ax-masking"),cfg.onchange&&(that={type:"close"},cfg.onchange.call(that,that)),this}};U.is_function(ax_super)&&(ax_class.prototype=new ax_super),root.mask=ax_class,"function"==typeof define&&define.amd&&define("_ax5_ui_mask",[],function(){return ax_class})}(ax5.ui,ax5.ui.root),function(root,ax_super){var U=ax5.util,axd=ax5.dom,ax_class=function(){this.main=function(){ax_super&&ax_super.call(this),this.config={keys:{value:"value",text:"text",shortcut:"shortcut",data:"data",menu:"menu"}}}.apply(this,arguments);var cfg=this.config;this.init=function(){cfg.target&&cfg.menu||U.error("aui_menu_400","[ax5.ui.menu] config.target, config.menu is required"),cfg.target=ax5.dom(cfg.target),this.print_list()},this.print_list=function(){var cfg=this.config,po=[],get_child_menu_html=function(_po_,_menu_,_depth_){_po_.push('<ul class="ax-item-group ax-item-group-depth-'+_depth_+'">');for(var i=0,l=_menu_.length;l>i;i++)_po_.push('<a class="ax-item" data-menu-item-index="'+i+'">'),_po_.push(_menu_[i][cfg.keys.text]),_po_.push("</a>"),_menu_[i][cfg.keys.menu]&&_menu_[i][cfg.keys.menu].length>0&&get_child_menu_html(_po_,_menu_[i][cfg.keys.menu],_depth_+1);_po_.push("</ul>")};get_child_menu_html(po,cfg[cfg.keys.menu],0),cfg.target.html(po.join("")),cfg.target.find("[data-menu-item-index]").on("click",function(e){this.onclick(e||window.event)}.bind(this))},this.onclick=function(e,target,index){target=axd.parent(e.target,function(target){return ax5.dom.attr(target,"data-menu-item-index")?!0:void 0}),target&&(index=axd.attr(target,"data-menu-item-index"),this.config.onclick&&this.config.onclick.call({menu:this.config[cfg.keys.menu],item:this.config[cfg.keys.menu][index],target:cfg.target.elements[0],item_target:target}))}};U.is_function(ax_super)&&(ax_class.prototype=new ax_super),root.menu=ax_class,"function"==typeof define&&define.amd&&define("_ax5_ui_menu",[],function(){return ax_class})}(ax5.ui,ax5.ui.root);